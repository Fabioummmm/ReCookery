<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylesdishes.css">
    <link rel="shortcut icon" type="imagex/png" href="IMG/11481899-logo.jpg">
    <script src="scriptdishes.js" defer></script>

    <title>Main Dishes</title>
</head>
<br>
<body>

  <nav class="navbar">
    <ul class="menu">
      <li><a href="file:///C:/Users/Tiago%20F/Desktop/WEB%20receitas/index.html">Home</a></li>
      <li><a href="#reci">Recipe</a></li>
      <li><a href="#clo">Clock</a></li>
      <li><a href="#rev">Reviews</a></li>
    </ul>
  </nav>



    <h1 class="dishes">- Chilli con carne recipe -</h1>
    <img src="IMG/Chilli con carne.webp" alt="The best spaghetti bolognese recipe" height="300rem" >
    <br><br><br><br>
    <table id="reci">
      <tr>
        <th class="subtit">Ingredients</th>
        <th class="subtit">Method</th>
      </tr>
      <tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>1</b> large onion</td>
        <td>
          <b>STEP 1</b><br>
          Prepare your vegetables. Chop <b>1</b> large onion into small dice, about <b>5mm</b> square. The easiest way to do this is to cut the onion in half from root to tip, peel it and slice each half into thick matchsticks lengthways, not quite cutting all the way to the root end so they are still held together. Slice across the matchsticks into neat dice.
        </td>
      </tr>
      <tr>
        <td> <input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          1 red pepper</td>
        <td>
          <b>STEP 2</b><br>
          Cut <b>1</b> red pepper in half lengthways, remove stalk and wash the seeds away, then chop. Peel and finely chop <b>2</b> garlic cloves.
        </td>
      </tr>
      <tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>2</b> garlic cloves</td>
        <td>
          <b>STEP 3</b><br>
          Start cooking. Put your pan on the hob over a medium heat. Add <b>1</b> tbsp oil and leave it for <b>1-2</b> minutes until hot (a little longer for an electric hob).
        </td>
      </tr>
      <tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>1</b> tbsp oil</td>
        <td>
          <b>STEP 4</b><br>
          Add the onion and cook, stirring fairly frequently, for about <b>5</b> minutes, or until the onion is soft, squidgy and slightly translucent.
        </td>
      </tr>
      <tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>1</b> heaped tsp hot chilli powder (or <b>1</b> level tbsp if you only have mild)</td>
        <td>
          <b>STEP 5</b><br>
          Tip in the garlic, red pepper, <b>1</b> heaped tsp hot chilli powder or <b>1</b> level tbsp mild chilli powder, <b>1</b> tsp paprika and <b>1</b> tsp ground cumin.
        </td>
      </tr>
      <tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>1</b> tsp paprika</td>
        <td>
          <b>STEP 6</b><br>
          Give it a good stir, then leave it to cook for another <b>5</b> minutes, stirring occasionally.
        </td>
      </tr>
      <tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>1</b> tsp ground cumin</td>
        <td>
          <b>STEP 7</b><br>
          Brown <b>500g</b> lean minced beef. Turn the heat up a bit, add the meat to the pan and break it up with your spoon or spatula. The mix should sizzle a bit when you add the mince.
        </td>
      </tr>
      <tr></tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>500g</b> lean minced beef</td>
        <td>
          <b>STEP 8</b><br>
          Keep stirring and prodding for at least <b>5</b> minutes, until all the mince is in uniform, mince-sized lumps and there are no more pink bits. Make sure you keep the heat hot enough for the meat to fry and become brown, rather than just stew.
        </td>
      </tr>
      <tr></tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>1</b> beef stock cube</td>
        <td>
          <b>STEP 9</b><br>
          Make the sauce. Crumble <b>1</b> beef stock cube into <b>300ml</b> hot water. Pour this into the pan with the mince mixture.
        </td>
      </tr>
      <tr></tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>400g </b> can chopped tomatoes</td>
        <td>
          <b>STEP 10</b><br>
          Add a <b>400g</b> can of chopped tomatoes. Tip in <b>Â½</b> tsp dried marjoram, <b>1</b> tsp sugar and add a good shake of salt and pepper. Squirt in about <b>2</b> tbsp tomato purÃ©e and stir the sauce well.
        </td>
      </tr>
      <tr></tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>Â½</b>  tsp dried marjoram</td>
        <td>
          <b>STEP 11</b><br>
          Simmer it gently. Bring the whole thing to the boil, give it a good stir and put a lid on the pan. Turn down the heat until it is gently bubbling and leave it for <b>20</b> minutes.
        </td>
      </tr>
      <tr></tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>1</b> 1 tsp sugar (or add a thumbnail-sized piece of dark chocolate along with the beans instead, see tip)</td>
        <td>
          <b>STEP 12</b><br>
          Check on the pan occasionally to stir it and make sure the sauce doesnâ€™t catch on the bottom of the pan or isnâ€™t drying out. If it is, add a couple of tablespoons of water and make sure that the heat really is low enough. After simmering gently, the saucy mince mixture should look thick, moist and juicy.
        </td>
      </tr>
      <tr></tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>2</b> tbsp tomato purÃ©e</td>
        <td>
          <b>STEP 13</b><br>
          Drain and rinse a <b>410g</b> can of red kidney beans in a sieve and stir them into the chilli pot. Bring to the boil again, and gently bubble without the lid for another <b>10</b> minutes, adding a little more water if it looks too dry.
        </td>
      </tr>
      <tr></tr>
        <td><input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
          <b>410g</b> can red kidney beans, plain boiled long grain rice, to serve
          soured cream, to serve</td>
        <td>
          <b>STEP 14</b><br>
          Taste a bit of the chilli and season. It will probably take a lot more seasoning than you think.
        </td>
      </tr>
      <tr></tr>
        <td></td>
        <td>
          <b>STEP 15</b><br>
          Now replace the lid, turn off the heat and leave your chilli to stand for <b>10</b> minutes before serving. This is really important as it allows the flavours to mingle.
        </td>
      </tr>
      <tr></tr>
        <td></td>
        <td>
          <b>STEP 16</b><br>
          Serve with soured cream and plain boiled long grain rice.
        </td>
      </tr>
      

    </table>


    

    <div class="timer-container" id="clo">
      <h2>Recipe Timer</h2>
   
      <div class="input-fields">
        <label for="hours">Hours:</label>
        <input type="number" id="hours" min="0" value="0">
   
        <label for="minutes">Minutes:</label>
        <input type="number" id="minutes" min="0" value="0">
   
        <label for="seconds">Seconds:</label>
        <input type="number" id="seconds" min="0" value="0">
      </div>
   
      <div class="timer-display" id="timerDisplay">00:00:00</div>
   
      <div class="controls">
        <button id="startBtn">Start Timer</button>
        <button id="pauseBtn" disabled>Pause Timer</button>
        <button id="resetBtn" disabled>Reset Timer</button>
        <button id="stopSoundBtn">Stop Sound</button>
      </div>
  
      <!-- Audio element to play sound when timer reaches zero -->
      <audio id="alarmSound" src="Sound/clock-sound---alarm.mp4" preload="auto"></audio>
    </div>
  
    <br><br>
    <p class="titfood" id="rev"> ~ Reviews ~</p>

    <div id="Coments" class="comments-container">
      <h3>Comments & Ratings</h3>
  
      <!-- Form to submit new comment and rating -->
      <div class="comment-form">
          <input type="text" id="comment-name" placeholder="Your name" required>
          <textarea id="comment-text" placeholder="Leave your comment here" required></textarea>
  
          <div class="star-rating">
            <span class="star" data-value="1">â˜…</span>
            <span class="star" data-value="2">â˜…</span>
            <span class="star" data-value="3">â˜…</span>
            <span class="star" data-value="4">â˜…</span>
            <span class="star" data-value="5">â˜…</span>
          </div>
          
          <button onclick="submitComment()">Submit</button>
      </div>
  
      <!-- Container to display comments -->
      <div id="comments-list"></div>
      <button id="view-more-btn" onclick="viewMoreComments()" style="display:none;">View More &#8595;</button>
  </div>




  <p class="com" id="down"> ~ Download ~</p>

  <p style="text-align: center;">ðŸ˜‰ In case you want to see our recipes later, but you don't have wifi, just download the page and check it out then ðŸ˜‰</p>
  <div class="down" >
  <button onclick="downloadAsPDF()">Download PDF</button>
  </div>
  
  <canvas id="trailCanvas"></canvas>
      <div id="heatmapContainer" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>
      <script src="script.js"></script>




    <script>
      let timer;
      let remainingTime;
      let isPaused = false;
      let soundInterval;  // To control sound looping
  
      const startBtn = document.getElementById('startBtn');
      const pauseBtn = document.getElementById('pauseBtn');
      const resetBtn = document.getElementById('resetBtn');
      const stopSoundBtn = document.getElementById('stopSoundBtn'); // Get the stop sound button
      const timerDisplay = document.getElementById('timerDisplay');
      const alarmSound = document.getElementById('alarmSound'); // Get the audio element
   
      // Automatically select the number on focus
      const inputFields = document.querySelectorAll('.input-fields input');
      inputFields.forEach(input => {
        input.addEventListener('focus', () => {
          input.select(); // Automatically selects the content (the "0")
        });
      });
   
      function updateDisplay(hours, minutes, seconds) {
        const h = String(hours).padStart(2, '0');
        const m = String(minutes).padStart(2, '0');
        const s = String(seconds).padStart(2, '0');
        timerDisplay.textContent = `${h}:${m}:${s}`;
      }
   
      function startTimer() {
        const inputHours = parseInt(document.getElementById('hours').value, 10);
        const inputMinutes = parseInt(document.getElementById('minutes').value, 10);
        const inputSeconds = parseInt(document.getElementById('seconds').value, 10);
   
        remainingTime = (inputHours * 3600) + (inputMinutes * 60) + inputSeconds;
   
        if (remainingTime <= 0) {
          alert('Please set a valid time.');
          return;
        }
  
        startBtn.disabled = true;
        pauseBtn.disabled = false;
        resetBtn.disabled = false;
   
        isPaused = false;
        runTimer();
      }
   
      function runTimer() {
        timer = setInterval(() => {
          if (!isPaused && remainingTime > 0) {
            remainingTime--;
   
            const hours = Math.floor(remainingTime / 3600);
            const minutes = Math.floor((remainingTime % 3600) / 60);
            const seconds = remainingTime % 60;
   
            updateDisplay(hours, minutes, seconds);
          } else if (remainingTime === 0) {
            clearInterval(timer);
  
            // Play the sound repeatedly (ring effect)
            playSoundRepeatedly();
            
            resetTimer();
          }
        }, 1000);
      }
  
      function playSoundRepeatedly() {
        // Play sound every second (acts like a ringing effect)
        soundInterval = setInterval(() => {
          alarmSound.play().catch((error) => {
            console.log('Error playing sound:', error); // Log error if sound fails to play
          });
        }, 1000); // Play sound every second
        stopSoundBtn.style.display = 'inline-block'; // Show the stop sound button
      }
  
      function pauseTimer() {
        isPaused = !isPaused;
        pauseBtn.textContent = isPaused ? 'Resume Timer' : 'Pause Timer';
      }
   
      function resetTimer() {
        clearInterval(timer);
        startBtn.disabled = false;
        pauseBtn.disabled = true;
        resetBtn.disabled = true;
        pauseBtn.textContent = 'Pause Timer';
        updateDisplay(0, 0, 0);
        document.getElementById('hours').value = 0;
        document.getElementById('minutes').value = 0;
        document.getElementById('seconds').value = 0;
      }
  
      // Stop sound button functionality
      stopSoundBtn.addEventListener('click', () => {
        clearInterval(soundInterval);  // Stop the repeated sound effect
        alarmSound.pause();  // Pause any currently playing sound
        alarmSound.currentTime = 0;  // Reset sound position to the start
        stopSoundBtn.style.display = 'none';  // Hide the stop button after stopping sound
      });
  
      startBtn.addEventListener('click', startTimer);
      pauseBtn.addEventListener('click', pauseTimer);
      resetBtn.addEventListener('click', resetTimer);

      /*COMENTS*/



     // Admin password for deleting comments
const adminPassword = 'ReCookery'; // Password for deleting comments

// Variable to store the selected star rating
let selectedRating = 1; // Default is 1 star
let comments = []; // Global variable to store all comments
let visibleComments = 3; // Number of comments visible by default

// Function to load comments from localStorage
function loadComments() {
    let commentsList = document.getElementById('comments-list');
    commentsList.innerHTML = '';

    // Retrieve comments from localStorage
    comments = JSON.parse(localStorage.getItem('comments')) || [];

    // Display only the last `visibleComments` comments
    let displayComments = comments.slice(-visibleComments);

    displayComments.forEach((comment, index) => {
        let commentDiv = document.createElement('div');
        commentDiv.className = 'comment-item';

        let commentName = document.createElement('p');
        commentName.className = 'comment-name';
        commentName.innerText = comment.name;

        let commentText = document.createElement('p');
        commentText.className = 'comment-text';
        commentText.innerText = comment.text;

        let commentRating = document.createElement('span');
        commentRating.className = 'comment-rating';
        commentRating.innerHTML = 'Rating: ' + 'â˜…'.repeat(comment.rating);

        // Delete button (visible to all, but protected by a password prompt)
        let deleteButton = document.createElement('button');
        deleteButton.className = 'delete-button';
        deleteButton.innerText = 'Delete';
        deleteButton.onclick = () => deleteComment(comments.length - 1 - index); // Adjusted index for correct deletion

        commentDiv.appendChild(commentName);
        commentDiv.appendChild(commentText);
        commentDiv.appendChild(commentRating);
        commentDiv.appendChild(deleteButton);

        commentsList.appendChild(commentDiv);
    });

    // Show or hide the "View More" button based on the number of comments
    document.getElementById('view-more-btn').style.display = comments.length > visibleComments ? 'block' : 'none';
}

// Function to handle star selection
document.querySelectorAll('.star').forEach(star => {
    star.addEventListener('click', function() {
        // Set selectedRating based on the data-value of the clicked star
        selectedRating = this.getAttribute('data-value');
        highlightStars(selectedRating);
    });
});

// Function to highlight stars based on the selected rating
function highlightStars(rating) {
    // Light up stars from left to right
    document.querySelectorAll('.star').forEach(star => {
        if (star.getAttribute('data-value') <= rating) {
            star.classList.add('selected'); // Light up the star
        } else {
            star.classList.remove('selected'); // Turn off the star
        }
    });
}

// Function to submit a new comment
function submitComment() {
    let commentName = document.getElementById('comment-name').value;
    let commentText = document.getElementById('comment-text').value;

    // Check if name and comment text are not empty
    if (commentName === "" || commentText === "") {
        alert("Please enter your name and comment.");
        return;
    }

    // Add the new comment
    comments.push({
        name: commentName,
        text: commentText,
        rating: selectedRating // Store the selected rating (1 to 5)
    });

    // Save the comments back to localStorage
    localStorage.setItem('comments', JSON.stringify(comments));

    // Clear the form
    document.getElementById('comment-name').value = "";
    document.getElementById('comment-text').value = "";
    selectedRating = 1; // Reset to default rating
    highlightStars(selectedRating); // Reset star highlighting

    // Reload comments to display the new one
    loadComments();
}

// Function to delete a comment with password protection
function deleteComment(index) {
    let password = prompt("Enter the admin password to delete this comment:");

    if (password === adminPassword) {
        // Remove the comment at the given index
        comments.splice(index, 1);

        // Save the updated comments back to localStorage
        localStorage.setItem('comments', JSON.stringify(comments));

        // Reload the comments
        loadComments();
    } else {
        alert("Incorrect password. You are not authorized to delete this comment.");
    }
}

// Function to show more comments when the button is clicked
function viewMoreComments() {
    visibleComments += 3; // Increase the number of visible comments
    loadComments(); // Reload comments to show more
}

// Load the comments when the page loads
document.addEventListener('DOMContentLoaded', () => {
    loadComments();
    highlightStars(selectedRating); // Initialize with default rating
});
    </script>
  
</body>
</html>